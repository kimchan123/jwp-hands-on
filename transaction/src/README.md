## Transaction Propagation

1. REQUIRED - 트랜잭션이 존재하는 경우 해당 트랜잭션을 그대로 이어 받음. 없을 경우 트랜잭션 개시
2. REQUIRES_NEW - 항상 신규 트랜잭션을 개시. 부모 트랜잭션이 rollBack 되어도 영향 안받음.
3. SUPPORTS - 트랜잭션이 존재할 경우 해당 트랜 잭션을 그대로 이어 받음. 없을 경우는 트랜잭션 이용 x
4. MANDATORY - 부모 트랜잭션 내에서 실행되며, 부모 트랜잭션이 없을 경우 Exception 발생
5. NOT_SUPPORTED - 트랜잭션 사용하지 않게함. 이미 진행중인 트랜잭션이 있으면 보류하고 메서드 실행(트랜잭션 없이)
6. NEVER - 트랜잭션을 사용하지 않도록 강제, 이미 진행중인 트랜잭션이 존재한다면 예외 발생
7. NESTED - 중첩 트랜잭션을 시작. 부모 트랜잭션의 커밋과 롤백에는 영향을 받지만 자신의 커밋과 롤백은 부모에게 영향 x (JPA에선 지원을 안함)

## 물리적 트랜잭션 vs 논리적 트랜잭션

- 트랜잭션은 하나의 커넥션을 사용한다는 것. 실제 데이터 베이스의 트랜잭션을 사용한다는 점에서 물리 트랜잭션이라고도 함
- 트랜잭션 전파 속성에 따라 외부 트랜잭션과 내부 트랜잭션이 동일한 트랜잭션을 사용할 수도 있다.
- 하지만, 스프링 입장에선 트랜잭션 매니저를 통해 트랜잭션을 처리하는 곳이 2군데이다.
- 실제 데이터베이스 트랜잭션과 스프링이 처리하는 트랜잭션 영역을 구분하기 위해 논리 트랜잭션이라는 개념을 추가.

### 정리

- 물리 트랜잭션 : 실제 데이터베이스에 적용되는 트랜잭션, 커넥션을 통해 커밋/롤백하는 단위
- 논리 트랜잭션 : 스프링이 트랜잭션 매니저를 통해 트랜잭션을 처리하는 단위

### 규칙

- 모든 논리 트랜잭션이 커밋되어야 물리 트랜잭션이 커밋됨
- 하나의 논리 트랜잭션이라도 롤백되면 물리 트랜잭션은 롤백됨

